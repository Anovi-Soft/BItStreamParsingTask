#include "MapHex2Bitset.h"
#include <fstream>
#include <string>


vector<bool> MapHex2Bitset::convert(string& line)
{
	check_line(line);
	vector<bool> result;
	for (int i = 0; i < line.size(); i+=2)
	{
		auto a = hex2bit(line[i], line[i + 1]);
		result.insert(result.end(), a.begin(), a.end());
	}
	return result;
}


MapHex2Bitset::MapHex2Bitset()
{
	if (hash_map.empty())
		hash_map = {
			{ { "00" },{ 0,0,0,0,0,0,0,0 } },
			{ { "01" },{ 1,0,0,0,0,0,0,0 } },
			{ { "02" },{ 0,1,0,0,0,0,0,0 } },
			{ { "03" },{ 1,1,0,0,0,0,0,0 } },
			{ { "04" },{ 0,0,1,0,0,0,0,0 } },
			{ { "05" },{ 1,0,1,0,0,0,0,0 } },
			{ { "06" },{ 0,1,1,0,0,0,0,0 } },
			{ { "07" },{ 1,1,1,0,0,0,0,0 } },
			{ { "08" },{ 0,0,0,1,0,0,0,0 } },
			{ { "09" },{ 1,0,0,1,0,0,0,0 } },
			{ { "0A" },{ 0,1,0,1,0,0,0,0 } },
			{ { "0B" },{ 1,1,0,1,0,0,0,0 } },
			{ { "0C" },{ 0,0,1,1,0,0,0,0 } },
			{ { "0D" },{ 1,0,1,1,0,0,0,0 } },
			{ { "0E" },{ 0,1,1,1,0,0,0,0 } },
			{ { "0F" },{ 1,1,1,1,0,0,0,0 } },
			{ { "10" },{ 0,0,0,0,1,0,0,0 } },
			{ { "11" },{ 1,0,0,0,1,0,0,0 } },
			{ { "12" },{ 0,1,0,0,1,0,0,0 } },
			{ { "13" },{ 1,1,0,0,1,0,0,0 } },
			{ { "14" },{ 0,0,1,0,1,0,0,0 } },
			{ { "15" },{ 1,0,1,0,1,0,0,0 } },
			{ { "16" },{ 0,1,1,0,1,0,0,0 } },
			{ { "17" },{ 1,1,1,0,1,0,0,0 } },
			{ { "18" },{ 0,0,0,1,1,0,0,0 } },
			{ { "19" },{ 1,0,0,1,1,0,0,0 } },
			{ { "1A" },{ 0,1,0,1,1,0,0,0 } },
			{ { "1B" },{ 1,1,0,1,1,0,0,0 } },
			{ { "1C" },{ 0,0,1,1,1,0,0,0 } },
			{ { "1D" },{ 1,0,1,1,1,0,0,0 } },
			{ { "1E" },{ 0,1,1,1,1,0,0,0 } },
			{ { "1F" },{ 1,1,1,1,1,0,0,0 } },
			{ { "20" },{ 0,0,0,0,0,1,0,0 } },
			{ { "21" },{ 1,0,0,0,0,1,0,0 } },
			{ { "22" },{ 0,1,0,0,0,1,0,0 } },
			{ { "23" },{ 1,1,0,0,0,1,0,0 } },
			{ { "24" },{ 0,0,1,0,0,1,0,0 } },
			{ { "25" },{ 1,0,1,0,0,1,0,0 } },
			{ { "26" },{ 0,1,1,0,0,1,0,0 } },
			{ { "27" },{ 1,1,1,0,0,1,0,0 } },
			{ { "28" },{ 0,0,0,1,0,1,0,0 } },
			{ { "29" },{ 1,0,0,1,0,1,0,0 } },
			{ { "2A" },{ 0,1,0,1,0,1,0,0 } },
			{ { "2B" },{ 1,1,0,1,0,1,0,0 } },
			{ { "2C" },{ 0,0,1,1,0,1,0,0 } },
			{ { "2D" },{ 1,0,1,1,0,1,0,0 } },
			{ { "2E" },{ 0,1,1,1,0,1,0,0 } },
			{ { "2F" },{ 1,1,1,1,0,1,0,0 } },
			{ { "30" },{ 0,0,0,0,1,1,0,0 } },
			{ { "31" },{ 1,0,0,0,1,1,0,0 } },
			{ { "32" },{ 0,1,0,0,1,1,0,0 } },
			{ { "33" },{ 1,1,0,0,1,1,0,0 } },
			{ { "34" },{ 0,0,1,0,1,1,0,0 } },
			{ { "35" },{ 1,0,1,0,1,1,0,0 } },
			{ { "36" },{ 0,1,1,0,1,1,0,0 } },
			{ { "37" },{ 1,1,1,0,1,1,0,0 } },
			{ { "38" },{ 0,0,0,1,1,1,0,0 } },
			{ { "39" },{ 1,0,0,1,1,1,0,0 } },
			{ { "3A" },{ 0,1,0,1,1,1,0,0 } },
			{ { "3B" },{ 1,1,0,1,1,1,0,0 } },
			{ { "3C" },{ 0,0,1,1,1,1,0,0 } },
			{ { "3D" },{ 1,0,1,1,1,1,0,0 } },
			{ { "3E" },{ 0,1,1,1,1,1,0,0 } },
			{ { "3F" },{ 1,1,1,1,1,1,0,0 } },
			{ { "40" },{ 0,0,0,0,0,0,1,0 } },
			{ { "41" },{ 1,0,0,0,0,0,1,0 } },
			{ { "42" },{ 0,1,0,0,0,0,1,0 } },
			{ { "43" },{ 1,1,0,0,0,0,1,0 } },
			{ { "44" },{ 0,0,1,0,0,0,1,0 } },
			{ { "45" },{ 1,0,1,0,0,0,1,0 } },
			{ { "46" },{ 0,1,1,0,0,0,1,0 } },
			{ { "47" },{ 1,1,1,0,0,0,1,0 } },
			{ { "48" },{ 0,0,0,1,0,0,1,0 } },
			{ { "49" },{ 1,0,0,1,0,0,1,0 } },
			{ { "4A" },{ 0,1,0,1,0,0,1,0 } },
			{ { "4B" },{ 1,1,0,1,0,0,1,0 } },
			{ { "4C" },{ 0,0,1,1,0,0,1,0 } },
			{ { "4D" },{ 1,0,1,1,0,0,1,0 } },
			{ { "4E" },{ 0,1,1,1,0,0,1,0 } },
			{ { "4F" },{ 1,1,1,1,0,0,1,0 } },
			{ { "50" },{ 0,0,0,0,1,0,1,0 } },
			{ { "51" },{ 1,0,0,0,1,0,1,0 } },
			{ { "52" },{ 0,1,0,0,1,0,1,0 } },
			{ { "53" },{ 1,1,0,0,1,0,1,0 } },
			{ { "54" },{ 0,0,1,0,1,0,1,0 } },
			{ { "55" },{ 1,0,1,0,1,0,1,0 } },
			{ { "56" },{ 0,1,1,0,1,0,1,0 } },
			{ { "57" },{ 1,1,1,0,1,0,1,0 } },
			{ { "58" },{ 0,0,0,1,1,0,1,0 } },
			{ { "59" },{ 1,0,0,1,1,0,1,0 } },
			{ { "5A" },{ 0,1,0,1,1,0,1,0 } },
			{ { "5B" },{ 1,1,0,1,1,0,1,0 } },
			{ { "5C" },{ 0,0,1,1,1,0,1,0 } },
			{ { "5D" },{ 1,0,1,1,1,0,1,0 } },
			{ { "5E" },{ 0,1,1,1,1,0,1,0 } },
			{ { "5F" },{ 1,1,1,1,1,0,1,0 } },
			{ { "60" },{ 0,0,0,0,0,1,1,0 } },
			{ { "61" },{ 1,0,0,0,0,1,1,0 } },
			{ { "62" },{ 0,1,0,0,0,1,1,0 } },
			{ { "63" },{ 1,1,0,0,0,1,1,0 } },
			{ { "64" },{ 0,0,1,0,0,1,1,0 } },
			{ { "65" },{ 1,0,1,0,0,1,1,0 } },
			{ { "66" },{ 0,1,1,0,0,1,1,0 } },
			{ { "67" },{ 1,1,1,0,0,1,1,0 } },
			{ { "68" },{ 0,0,0,1,0,1,1,0 } },
			{ { "69" },{ 1,0,0,1,0,1,1,0 } },
			{ { "6A" },{ 0,1,0,1,0,1,1,0 } },
			{ { "6B" },{ 1,1,0,1,0,1,1,0 } },
			{ { "6C" },{ 0,0,1,1,0,1,1,0 } },
			{ { "6D" },{ 1,0,1,1,0,1,1,0 } },
			{ { "6E" },{ 0,1,1,1,0,1,1,0 } },
			{ { "6F" },{ 1,1,1,1,0,1,1,0 } },
			{ { "70" },{ 0,0,0,0,1,1,1,0 } },
			{ { "71" },{ 1,0,0,0,1,1,1,0 } },
			{ { "72" },{ 0,1,0,0,1,1,1,0 } },
			{ { "73" },{ 1,1,0,0,1,1,1,0 } },
			{ { "74" },{ 0,0,1,0,1,1,1,0 } },
			{ { "75" },{ 1,0,1,0,1,1,1,0 } },
			{ { "76" },{ 0,1,1,0,1,1,1,0 } },
			{ { "77" },{ 1,1,1,0,1,1,1,0 } },
			{ { "78" },{ 0,0,0,1,1,1,1,0 } },
			{ { "79" },{ 1,0,0,1,1,1,1,0 } },
			{ { "7A" },{ 0,1,0,1,1,1,1,0 } },
			{ { "7B" },{ 1,1,0,1,1,1,1,0 } },
			{ { "7C" },{ 0,0,1,1,1,1,1,0 } },
			{ { "7D" },{ 1,0,1,1,1,1,1,0 } },
			{ { "7E" },{ 0,1,1,1,1,1,1,0 } },
			{ { "7F" },{ 1,1,1,1,1,1,1,0 } },
			{ { "80" },{ 0,0,0,0,0,0,0,1 } },
			{ { "81" },{ 1,0,0,0,0,0,0,1 } },
			{ { "82" },{ 0,1,0,0,0,0,0,1 } },
			{ { "83" },{ 1,1,0,0,0,0,0,1 } },
			{ { "84" },{ 0,0,1,0,0,0,0,1 } },
			{ { "85" },{ 1,0,1,0,0,0,0,1 } },
			{ { "86" },{ 0,1,1,0,0,0,0,1 } },
			{ { "87" },{ 1,1,1,0,0,0,0,1 } },
			{ { "88" },{ 0,0,0,1,0,0,0,1 } },
			{ { "89" },{ 1,0,0,1,0,0,0,1 } },
			{ { "8A" },{ 0,1,0,1,0,0,0,1 } },
			{ { "8B" },{ 1,1,0,1,0,0,0,1 } },
			{ { "8C" },{ 0,0,1,1,0,0,0,1 } },
			{ { "8D" },{ 1,0,1,1,0,0,0,1 } },
			{ { "8E" },{ 0,1,1,1,0,0,0,1 } },
			{ { "8F" },{ 1,1,1,1,0,0,0,1 } },
			{ { "90" },{ 0,0,0,0,1,0,0,1 } },
			{ { "91" },{ 1,0,0,0,1,0,0,1 } },
			{ { "92" },{ 0,1,0,0,1,0,0,1 } },
			{ { "93" },{ 1,1,0,0,1,0,0,1 } },
			{ { "94" },{ 0,0,1,0,1,0,0,1 } },
			{ { "95" },{ 1,0,1,0,1,0,0,1 } },
			{ { "96" },{ 0,1,1,0,1,0,0,1 } },
			{ { "97" },{ 1,1,1,0,1,0,0,1 } },
			{ { "98" },{ 0,0,0,1,1,0,0,1 } },
			{ { "99" },{ 1,0,0,1,1,0,0,1 } },
			{ { "9A" },{ 0,1,0,1,1,0,0,1 } },
			{ { "9B" },{ 1,1,0,1,1,0,0,1 } },
			{ { "9C" },{ 0,0,1,1,1,0,0,1 } },
			{ { "9D" },{ 1,0,1,1,1,0,0,1 } },
			{ { "9E" },{ 0,1,1,1,1,0,0,1 } },
			{ { "9F" },{ 1,1,1,1,1,0,0,1 } },
			{ { "A0" },{ 0,0,0,0,0,1,0,1 } },
			{ { "A1" },{ 1,0,0,0,0,1,0,1 } },
			{ { "A2" },{ 0,1,0,0,0,1,0,1 } },
			{ { "A3" },{ 1,1,0,0,0,1,0,1 } },
			{ { "A4" },{ 0,0,1,0,0,1,0,1 } },
			{ { "A5" },{ 1,0,1,0,0,1,0,1 } },
			{ { "A6" },{ 0,1,1,0,0,1,0,1 } },
			{ { "A7" },{ 1,1,1,0,0,1,0,1 } },
			{ { "A8" },{ 0,0,0,1,0,1,0,1 } },
			{ { "A9" },{ 1,0,0,1,0,1,0,1 } },
			{ { "AA" },{ 0,1,0,1,0,1,0,1 } },
			{ { "AB" },{ 1,1,0,1,0,1,0,1 } },
			{ { "AC" },{ 0,0,1,1,0,1,0,1 } },
			{ { "AD" },{ 1,0,1,1,0,1,0,1 } },
			{ { "AE" },{ 0,1,1,1,0,1,0,1 } },
			{ { "AF" },{ 1,1,1,1,0,1,0,1 } },
			{ { "B0" },{ 0,0,0,0,1,1,0,1 } },
			{ { "B1" },{ 1,0,0,0,1,1,0,1 } },
			{ { "B2" },{ 0,1,0,0,1,1,0,1 } },
			{ { "B3" },{ 1,1,0,0,1,1,0,1 } },
			{ { "B4" },{ 0,0,1,0,1,1,0,1 } },
			{ { "B5" },{ 1,0,1,0,1,1,0,1 } },
			{ { "B6" },{ 0,1,1,0,1,1,0,1 } },
			{ { "B7" },{ 1,1,1,0,1,1,0,1 } },
			{ { "B8" },{ 0,0,0,1,1,1,0,1 } },
			{ { "B9" },{ 1,0,0,1,1,1,0,1 } },
			{ { "BA" },{ 0,1,0,1,1,1,0,1 } },
			{ { "BB" },{ 1,1,0,1,1,1,0,1 } },
			{ { "BC" },{ 0,0,1,1,1,1,0,1 } },
			{ { "BD" },{ 1,0,1,1,1,1,0,1 } },
			{ { "BE" },{ 0,1,1,1,1,1,0,1 } },
			{ { "BF" },{ 1,1,1,1,1,1,0,1 } },
			{ { "C0" },{ 0,0,0,0,0,0,1,1 } },
			{ { "C1" },{ 1,0,0,0,0,0,1,1 } },
			{ { "C2" },{ 0,1,0,0,0,0,1,1 } },
			{ { "C3" },{ 1,1,0,0,0,0,1,1 } },
			{ { "C4" },{ 0,0,1,0,0,0,1,1 } },
			{ { "C5" },{ 1,0,1,0,0,0,1,1 } },
			{ { "C6" },{ 0,1,1,0,0,0,1,1 } },
			{ { "C7" },{ 1,1,1,0,0,0,1,1 } },
			{ { "C8" },{ 0,0,0,1,0,0,1,1 } },
			{ { "C9" },{ 1,0,0,1,0,0,1,1 } },
			{ { "CA" },{ 0,1,0,1,0,0,1,1 } },
			{ { "CB" },{ 1,1,0,1,0,0,1,1 } },
			{ { "CC" },{ 0,0,1,1,0,0,1,1 } },
			{ { "CD" },{ 1,0,1,1,0,0,1,1 } },
			{ { "CE" },{ 0,1,1,1,0,0,1,1 } },
			{ { "CF" },{ 1,1,1,1,0,0,1,1 } },
			{ { "D0" },{ 0,0,0,0,1,0,1,1 } },
			{ { "D1" },{ 1,0,0,0,1,0,1,1 } },
			{ { "D2" },{ 0,1,0,0,1,0,1,1 } },
			{ { "D3" },{ 1,1,0,0,1,0,1,1 } },
			{ { "D4" },{ 0,0,1,0,1,0,1,1 } },
			{ { "D5" },{ 1,0,1,0,1,0,1,1 } },
			{ { "D6" },{ 0,1,1,0,1,0,1,1 } },
			{ { "D7" },{ 1,1,1,0,1,0,1,1 } },
			{ { "D8" },{ 0,0,0,1,1,0,1,1 } },
			{ { "D9" },{ 1,0,0,1,1,0,1,1 } },
			{ { "DA" },{ 0,1,0,1,1,0,1,1 } },
			{ { "DB" },{ 1,1,0,1,1,0,1,1 } },
			{ { "DC" },{ 0,0,1,1,1,0,1,1 } },
			{ { "DD" },{ 1,0,1,1,1,0,1,1 } },
			{ { "DE" },{ 0,1,1,1,1,0,1,1 } },
			{ { "DF" },{ 1,1,1,1,1,0,1,1 } },
			{ { "E0" },{ 0,0,0,0,0,1,1,1 } },
			{ { "E1" },{ 1,0,0,0,0,1,1,1 } },
			{ { "E2" },{ 0,1,0,0,0,1,1,1 } },
			{ { "E3" },{ 1,1,0,0,0,1,1,1 } },
			{ { "E4" },{ 0,0,1,0,0,1,1,1 } },
			{ { "E5" },{ 1,0,1,0,0,1,1,1 } },
			{ { "E6" },{ 0,1,1,0,0,1,1,1 } },
			{ { "E7" },{ 1,1,1,0,0,1,1,1 } },
			{ { "E8" },{ 0,0,0,1,0,1,1,1 } },
			{ { "E9" },{ 1,0,0,1,0,1,1,1 } },
			{ { "EA" },{ 0,1,0,1,0,1,1,1 } },
			{ { "EB" },{ 1,1,0,1,0,1,1,1 } },
			{ { "EC" },{ 0,0,1,1,0,1,1,1 } },
			{ { "ED" },{ 1,0,1,1,0,1,1,1 } },
			{ { "EE" },{ 0,1,1,1,0,1,1,1 } },
			{ { "EF" },{ 1,1,1,1,0,1,1,1 } },
			{ { "F0" },{ 0,0,0,0,1,1,1,1 } },
			{ { "F1" },{ 1,0,0,0,1,1,1,1 } },
			{ { "F2" },{ 0,1,0,0,1,1,1,1 } },
			{ { "F3" },{ 1,1,0,0,1,1,1,1 } },
			{ { "F4" },{ 0,0,1,0,1,1,1,1 } },
			{ { "F5" },{ 1,0,1,0,1,1,1,1 } },
			{ { "F6" },{ 0,1,1,0,1,1,1,1 } },
			{ { "F7" },{ 1,1,1,0,1,1,1,1 } },
			{ { "F8" },{ 0,0,0,1,1,1,1,1 } },
			{ { "F9" },{ 1,0,0,1,1,1,1,1 } },
			{ { "FA" },{ 0,1,0,1,1,1,1,1 } },
			{ { "FB" },{ 1,1,0,1,1,1,1,1 } },
			{ { "FC" },{ 0,0,1,1,1,1,1,1 } },
			{ { "FD" },{ 1,0,1,1,1,1,1,1 } },
			{ { "FE" },{ 0,1,1,1,1,1,1,1 } },
			{ { "FF" },{ 1,1,1,1,1,1,1,1 } }
	};
}


MapHex2Bitset::~MapHex2Bitset()
{
}
